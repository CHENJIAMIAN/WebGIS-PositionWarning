{"id":"vxwJ","dependencies":[{"name":"C:\\桌面\\new-project\\package.json","includedInParent":true,"mtime":1557729564423},{"name":"../map/map","loc":{"line":1,"column":16},"parent":"C:\\桌面\\new-project\\js\\zTree\\layerTree.js","resolved":"C:\\桌面\\new-project\\js\\map\\map.js"},{"name":"ol/layer.js","loc":{"line":2,"column":64},"parent":"C:\\桌面\\new-project\\js\\zTree\\layerTree.js","resolved":"C:\\桌面\\new-project\\node_modules\\ol\\layer.js"}],"generated":{"js":"\"use strict\";var e=a(require(\"../map/map\")),t=require(\"ol/layer.js\");function a(e){return e&&e.__esModule?e:{default:e}}$(function(){var a={check:{enable:!0},view:{selectedMulti:!1},edit:{enable:!0,showRemoveBtn:!1,showRenameBtn:!1},data:{keep:{parent:!0,leaf:!0},simpleData:{enable:!0}},callback:{onCheck:function(t,a,r){var l=layersToMap.getLayers().getArray();if(r.isParent)return void(r.checked?e.default.getLayers().getArray()[0].setVisible(!0):e.default.getLayers().getArray()[0].setVisible(!1));for(var i=0;i<l.length;i++){var s=l[i];r.name==s.get(\"title\")&&(r.checked?s.setVisible(!0):s.setVisible(!1))}e.default.updateSize()}}};$.fn.zTree.init($(\"#layerTree\"),a,[]);var r=$.fn.zTree.getZTreeObj(\"layerTree\"),l=0,i=0;e.default.getLayers().forEach(function(e){e instanceof t.Group&&(l++,r.addNodes(null,{id:l,isParent:!0,name:\"图层组\",checked:!0}),e.getLayers().forEach(function(e){i++,r.addNodes(r.getNodeByParam(\"id\",l,null),{id:10*l+i,pId:2,isParent:!1,name:e.get(\"title\"),checked:!0})}))})}),$(function(){$(\"#layer\").click(function(){return!$(this).hasClass(\"active\")&&($(this).toggleClass(\"active\"),$(\"#people\").toggleClass(\"active\"),$(\"#peopleTree\").toggle(),$(\"#layerTree\").toggle(),!1)}),$(\"#people\").click(function(){return!$(this).hasClass(\"active\")&&($(this).toggleClass(\"active\"),$(\"#layer\").toggleClass(\"active\"),$(\"#peopleTree\").toggle(),$(\"#layerTree\").toggle(),!1)})});"},"sourceMaps":{"js":{"mappings":[{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":0}},{"source":"js/zTree/layerTree.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"js/zTree/layerTree.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"js/zTree/layerTree.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"js/zTree/layerTree.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"js/zTree/layerTree.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"js/zTree/layerTree.js","original":{"line":2,"column":0},"generated":{"line":1,"column":44}},{"source":"js/zTree/layerTree.js","original":{"line":2,"column":0},"generated":{"line":1,"column":46}},{"source":"js/zTree/layerTree.js","original":{"line":2,"column":0},"generated":{"line":1,"column":54}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":69}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":78}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":80}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":83}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":90}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":93}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":95}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":106}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":108}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":109}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":0},"generated":{"line":1,"column":117}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":4,"column":0},"generated":{"line":1,"column":120}},{"source":"js/zTree/layerTree.js","original":{"line":4,"column":2},"generated":{"line":1,"column":122}},{"source":"js/zTree/layerTree.js","name":"setting","original":{"line":6,"column":8},"generated":{"line":1,"column":133}},{"source":"js/zTree/layerTree.js","name":"setting","original":{"line":6,"column":8},"generated":{"line":1,"column":137}},{"source":"js/zTree/layerTree.js","original":{"line":6,"column":18},"generated":{"line":1,"column":139}},{"source":"js/zTree/layerTree.js","name":"check","original":{"line":7,"column":8},"generated":{"line":1,"column":140}},{"source":"js/zTree/layerTree.js","original":{"line":7,"column":15},"generated":{"line":1,"column":146}},{"source":"js/zTree/layerTree.js","name":"enable","original":{"line":8,"column":12},"generated":{"line":1,"column":147}},{"source":"js/zTree/layerTree.js","original":{"line":8,"column":20},"generated":{"line":1,"column":155}},{"source":"js/zTree/layerTree.js","name":"view","original":{"line":11,"column":8},"generated":{"line":1,"column":158}},{"source":"js/zTree/layerTree.js","original":{"line":11,"column":14},"generated":{"line":1,"column":163}},{"source":"js/zTree/layerTree.js","name":"selectedMulti","original":{"line":12,"column":12},"generated":{"line":1,"column":164}},{"source":"js/zTree/layerTree.js","original":{"line":12,"column":27},"generated":{"line":1,"column":179}},{"source":"js/zTree/layerTree.js","name":"edit","original":{"line":14,"column":8},"generated":{"line":1,"column":182}},{"source":"js/zTree/layerTree.js","original":{"line":14,"column":14},"generated":{"line":1,"column":187}},{"source":"js/zTree/layerTree.js","name":"enable","original":{"line":15,"column":12},"generated":{"line":1,"column":188}},{"source":"js/zTree/layerTree.js","original":{"line":15,"column":20},"generated":{"line":1,"column":196}},{"source":"js/zTree/layerTree.js","name":"showRemoveBtn","original":{"line":16,"column":12},"generated":{"line":1,"column":198}},{"source":"js/zTree/layerTree.js","original":{"line":16,"column":27},"generated":{"line":1,"column":213}},{"source":"js/zTree/layerTree.js","name":"showRenameBtn","original":{"line":17,"column":12},"generated":{"line":1,"column":215}},{"source":"js/zTree/layerTree.js","original":{"line":17,"column":27},"generated":{"line":1,"column":230}},{"source":"js/zTree/layerTree.js","name":"data","original":{"line":19,"column":8},"generated":{"line":1,"column":233}},{"source":"js/zTree/layerTree.js","original":{"line":19,"column":14},"generated":{"line":1,"column":238}},{"source":"js/zTree/layerTree.js","name":"keep","original":{"line":20,"column":12},"generated":{"line":1,"column":239}},{"source":"js/zTree/layerTree.js","original":{"line":20,"column":18},"generated":{"line":1,"column":244}},{"source":"js/zTree/layerTree.js","name":"parent","original":{"line":21,"column":16},"generated":{"line":1,"column":245}},{"source":"js/zTree/layerTree.js","original":{"line":21,"column":24},"generated":{"line":1,"column":253}},{"source":"js/zTree/layerTree.js","name":"leaf","original":{"line":22,"column":16},"generated":{"line":1,"column":255}},{"source":"js/zTree/layerTree.js","original":{"line":22,"column":22},"generated":{"line":1,"column":261}},{"source":"js/zTree/layerTree.js","name":"simpleData","original":{"line":24,"column":12},"generated":{"line":1,"column":264}},{"source":"js/zTree/layerTree.js","original":{"line":24,"column":24},"generated":{"line":1,"column":275}},{"source":"js/zTree/layerTree.js","name":"enable","original":{"line":25,"column":16},"generated":{"line":1,"column":276}},{"source":"js/zTree/layerTree.js","original":{"line":25,"column":24},"generated":{"line":1,"column":284}},{"source":"js/zTree/layerTree.js","name":"callback","original":{"line":28,"column":8},"generated":{"line":1,"column":288}},{"source":"js/zTree/layerTree.js","original":{"line":28,"column":18},"generated":{"line":1,"column":297}},{"source":"js/zTree/layerTree.js","name":"onCheck","original":{"line":29,"column":12},"generated":{"line":1,"column":298}},{"source":"js/zTree/layerTree.js","name":"onCheck","original":{"line":77,"column":13},"generated":{"line":1,"column":306}},{"source":"js/zTree/layerTree.js","name":"e","original":{"line":77,"column":21},"generated":{"line":1,"column":315}},{"source":"js/zTree/layerTree.js","name":"treeId","original":{"line":77,"column":24},"generated":{"line":1,"column":317}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":77,"column":32},"generated":{"line":1,"column":319}},{"source":"js/zTree/layerTree.js","name":"layerArray","original":{"line":78,"column":12},"generated":{"line":1,"column":322}},{"source":"js/zTree/layerTree.js","name":"layerArray","original":{"line":78,"column":12},"generated":{"line":1,"column":326}},{"source":"js/zTree/layerTree.js","name":"layersToMap","original":{"line":78,"column":25},"generated":{"line":1,"column":328}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":78,"column":37},"generated":{"line":1,"column":340}},{"source":"js/zTree/layerTree.js","name":"getArray","original":{"line":78,"column":49},"generated":{"line":1,"column":352}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":80,"column":12},"generated":{"line":1,"column":363}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":80,"column":12},"generated":{"line":1,"column":366}},{"source":"js/zTree/layerTree.js","name":"isParent","original":{"line":80,"column":21},"generated":{"line":1,"column":368}},{"source":"js/zTree/layerTree.js","original":{"line":87,"column":12},"generated":{"line":1,"column":377}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":81,"column":16},"generated":{"line":1,"column":389}},{"source":"js/zTree/layerTree.js","name":"checked","original":{"line":81,"column":25},"generated":{"line":1,"column":391}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":82,"column":20},"generated":{"line":1,"column":399}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":82,"column":20},"generated":{"line":1,"column":401}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":82,"column":20},"generated":{"line":1,"column":409}},{"source":"js/zTree/layerTree.js","name":"getArray","original":{"line":82,"column":32},"generated":{"line":1,"column":421}},{"source":"js/zTree/layerTree.js","original":{"line":82,"column":43},"generated":{"line":1,"column":432}},{"source":"js/zTree/layerTree.js","name":"setVisible","original":{"line":82,"column":46},"generated":{"line":1,"column":435}},{"source":"js/zTree/layerTree.js","original":{"line":82,"column":57},"generated":{"line":1,"column":447}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":85,"column":20},"generated":{"line":1,"column":450}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":85,"column":20},"generated":{"line":1,"column":452}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":85,"column":20},"generated":{"line":1,"column":460}},{"source":"js/zTree/layerTree.js","name":"getArray","original":{"line":85,"column":32},"generated":{"line":1,"column":472}},{"source":"js/zTree/layerTree.js","original":{"line":85,"column":43},"generated":{"line":1,"column":483}},{"source":"js/zTree/layerTree.js","name":"setVisible","original":{"line":85,"column":46},"generated":{"line":1,"column":486}},{"source":"js/zTree/layerTree.js","original":{"line":85,"column":57},"generated":{"line":1,"column":498}},{"source":"js/zTree/layerTree.js","original":{"line":90,"column":13},"generated":{"line":1,"column":502}},{"source":"js/zTree/layerTree.js","original":{"line":90,"column":13},"generated":{"line":1,"column":506}},{"source":"js/zTree/layerTree.js","name":"j","original":{"line":90,"column":17},"generated":{"line":1,"column":510}},{"source":"js/zTree/layerTree.js","original":{"line":90,"column":21},"generated":{"line":1,"column":512}},{"source":"js/zTree/layerTree.js","name":"j","original":{"line":90,"column":24},"generated":{"line":1,"column":514}},{"source":"js/zTree/layerTree.js","name":"layerArray","original":{"line":90,"column":28},"generated":{"line":1,"column":516}},{"source":"js/zTree/layerTree.js","name":"length","original":{"line":90,"column":39},"generated":{"line":1,"column":518}},{"source":"js/zTree/layerTree.js","name":"j","original":{"line":90,"column":47},"generated":{"line":1,"column":525}},{"source":"js/zTree/layerTree.js","original":{"line":91,"column":8},"generated":{"line":1,"column":529}},{"source":"js/zTree/layerTree.js","name":"layer","original":{"line":92,"column":16},"generated":{"line":1,"column":530}},{"source":"js/zTree/layerTree.js","name":"layer","original":{"line":92,"column":16},"generated":{"line":1,"column":534}},{"source":"js/zTree/layerTree.js","name":"layerArray","original":{"line":92,"column":24},"generated":{"line":1,"column":536}},{"source":"js/zTree/layerTree.js","name":"j","original":{"line":92,"column":35},"generated":{"line":1,"column":538}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":94,"column":16},"generated":{"line":1,"column":541}},{"source":"js/zTree/layerTree.js","name":"name","original":{"line":94,"column":25},"generated":{"line":1,"column":543}},{"source":"js/zTree/layerTree.js","name":"layer","original":{"line":94,"column":33},"generated":{"line":1,"column":549}},{"source":"js/zTree/layerTree.js","name":"get","original":{"line":94,"column":39},"generated":{"line":1,"column":551}},{"source":"js/zTree/layerTree.js","original":{"line":94,"column":43},"generated":{"line":1,"column":555}},{"source":"js/zTree/layerTree.js","name":"treeNode","original":{"line":95,"column":20},"generated":{"line":1,"column":566}},{"source":"js/zTree/layerTree.js","name":"checked","original":{"line":95,"column":29},"generated":{"line":1,"column":568}},{"source":"js/zTree/layerTree.js","name":"layer","original":{"line":96,"column":20},"generated":{"line":1,"column":576}},{"source":"js/zTree/layerTree.js","name":"setVisible","original":{"line":96,"column":26},"generated":{"line":1,"column":578}},{"source":"js/zTree/layerTree.js","original":{"line":96,"column":37},"generated":{"line":1,"column":590}},{"source":"js/zTree/layerTree.js","name":"layer","original":{"line":99,"column":20},"generated":{"line":1,"column":593}},{"source":"js/zTree/layerTree.js","name":"setVisible","original":{"line":99,"column":26},"generated":{"line":1,"column":595}},{"source":"js/zTree/layerTree.js","original":{"line":99,"column":37},"generated":{"line":1,"column":607}},{"source":"js/zTree/layerTree.js","name":"updateSize","original":{"line":103,"column":12},"generated":{"line":1,"column":611}},{"source":"js/zTree/layerTree.js","name":"updateSize","original":{"line":103,"column":12},"generated":{"line":1,"column":613}},{"source":"js/zTree/layerTree.js","name":"updateSize","original":{"line":103,"column":12},"generated":{"line":1,"column":621}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":38,"column":4},"generated":{"line":1,"column":637}},{"source":"js/zTree/layerTree.js","name":"fn","original":{"line":38,"column":6},"generated":{"line":1,"column":639}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":38,"column":9},"generated":{"line":1,"column":642}},{"source":"js/zTree/layerTree.js","name":"init","original":{"line":38,"column":15},"generated":{"line":1,"column":648}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":38,"column":20},"generated":{"line":1,"column":653}},{"source":"js/zTree/layerTree.js","original":{"line":38,"column":22},"generated":{"line":1,"column":655}},{"source":"js/zTree/layerTree.js","name":"setting","original":{"line":38,"column":37},"generated":{"line":1,"column":669}},{"source":"js/zTree/layerTree.js","original":{"line":34,"column":17},"generated":{"line":1,"column":671}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":40,"column":8},"generated":{"line":1,"column":675}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":40,"column":8},"generated":{"line":1,"column":679}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":40,"column":16},"generated":{"line":1,"column":681}},{"source":"js/zTree/layerTree.js","name":"fn","original":{"line":40,"column":18},"generated":{"line":1,"column":683}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":40,"column":21},"generated":{"line":1,"column":686}},{"source":"js/zTree/layerTree.js","name":"getZTreeObj","original":{"line":40,"column":27},"generated":{"line":1,"column":692}},{"source":"js/zTree/layerTree.js","original":{"line":40,"column":39},"generated":{"line":1,"column":704}},{"source":"js/zTree/layerTree.js","name":"groupCount","original":{"line":45,"column":8},"generated":{"line":1,"column":717}},{"source":"js/zTree/layerTree.js","original":{"line":45,"column":21},"generated":{"line":1,"column":719}},{"source":"js/zTree/layerTree.js","name":"layerCount","original":{"line":46,"column":8},"generated":{"line":1,"column":721}},{"source":"js/zTree/layerTree.js","original":{"line":46,"column":21},"generated":{"line":1,"column":723}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":47,"column":8},"generated":{"line":1,"column":725}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":47,"column":8},"generated":{"line":1,"column":727}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":47,"column":8},"generated":{"line":1,"column":735}},{"source":"js/zTree/layerTree.js","name":"forEach","original":{"line":47,"column":20},"generated":{"line":1,"column":747}},{"source":"js/zTree/layerTree.js","original":{"line":47,"column":28},"generated":{"line":1,"column":755}},{"source":"js/zTree/layerTree.js","name":"elem","original":{"line":47,"column":38},"generated":{"line":1,"column":764}},{"source":"js/zTree/layerTree.js","name":"elem","original":{"line":48,"column":12},"generated":{"line":1,"column":767}},{"source":"js/zTree/layerTree.js","name":"Group","original":{"line":48,"column":28},"generated":{"line":1,"column":780}},{"source":"js/zTree/layerTree.js","original":{"line":48,"column":8},"generated":{"line":1,"column":782}},{"source":"js/zTree/layerTree.js","name":"groupCount","original":{"line":50,"column":12},"generated":{"line":1,"column":790}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":51,"column":12},"generated":{"line":1,"column":794}},{"source":"js/zTree/layerTree.js","name":"addNodes","original":{"line":51,"column":18},"generated":{"line":1,"column":796}},{"source":"js/zTree/layerTree.js","original":{"line":51,"column":27},"generated":{"line":1,"column":805}},{"source":"js/zTree/layerTree.js","original":{"line":52,"column":16},"generated":{"line":1,"column":810}},{"source":"js/zTree/layerTree.js","name":"id","original":{"line":53,"column":20},"generated":{"line":1,"column":811}},{"source":"js/zTree/layerTree.js","name":"groupCount","original":{"line":53,"column":24},"generated":{"line":1,"column":814}},{"source":"js/zTree/layerTree.js","name":"isParent","original":{"line":54,"column":20},"generated":{"line":1,"column":816}},{"source":"js/zTree/layerTree.js","original":{"line":54,"column":30},"generated":{"line":1,"column":826}},{"source":"js/zTree/layerTree.js","name":"name","original":{"line":55,"column":20},"generated":{"line":1,"column":828}},{"source":"js/zTree/layerTree.js","original":{"line":55,"column":26},"generated":{"line":1,"column":833}},{"source":"js/zTree/layerTree.js","name":"checked","original":{"line":56,"column":20},"generated":{"line":1,"column":839}},{"source":"js/zTree/layerTree.js","original":{"line":56,"column":29},"generated":{"line":1,"column":848}},{"source":"js/zTree/layerTree.js","name":"elem","original":{"line":58,"column":12},"generated":{"line":1,"column":852}},{"source":"js/zTree/layerTree.js","name":"getLayers","original":{"line":58,"column":17},"generated":{"line":1,"column":854}},{"source":"js/zTree/layerTree.js","name":"forEach","original":{"line":58,"column":29},"generated":{"line":1,"column":866}},{"source":"js/zTree/layerTree.js","original":{"line":58,"column":37},"generated":{"line":1,"column":874}},{"source":"js/zTree/layerTree.js","name":"lay","original":{"line":58,"column":47},"generated":{"line":1,"column":883}},{"source":"js/zTree/layerTree.js","name":"layerCount","original":{"line":60,"column":16},"generated":{"line":1,"column":886}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":61,"column":16},"generated":{"line":1,"column":890}},{"source":"js/zTree/layerTree.js","name":"addNodes","original":{"line":61,"column":22},"generated":{"line":1,"column":892}},{"source":"js/zTree/layerTree.js","name":"zTree","original":{"line":62,"column":20},"generated":{"line":1,"column":901}},{"source":"js/zTree/layerTree.js","name":"getNodeByParam","original":{"line":62,"column":26},"generated":{"line":1,"column":903}},{"source":"js/zTree/layerTree.js","original":{"line":62,"column":41},"generated":{"line":1,"column":918}},{"source":"js/zTree/layerTree.js","name":"groupCount","original":{"line":62,"column":47},"generated":{"line":1,"column":923}},{"source":"js/zTree/layerTree.js","original":{"line":62,"column":59},"generated":{"line":1,"column":925}},{"source":"js/zTree/layerTree.js","original":{"line":63,"column":20},"generated":{"line":1,"column":931}},{"source":"js/zTree/layerTree.js","name":"id","original":{"line":64,"column":24},"generated":{"line":1,"column":932}},{"source":"js/zTree/layerTree.js","original":{"line":64,"column":41},"generated":{"line":1,"column":935}},{"source":"js/zTree/layerTree.js","name":"groupCount","original":{"line":64,"column":28},"generated":{"line":1,"column":938}},{"source":"js/zTree/layerTree.js","name":"layerCount","original":{"line":64,"column":46},"generated":{"line":1,"column":940}},{"source":"js/zTree/layerTree.js","name":"pId","original":{"line":65,"column":24},"generated":{"line":1,"column":942}},{"source":"js/zTree/layerTree.js","original":{"line":65,"column":29},"generated":{"line":1,"column":946}},{"source":"js/zTree/layerTree.js","name":"isParent","original":{"line":66,"column":24},"generated":{"line":1,"column":948}},{"source":"js/zTree/layerTree.js","original":{"line":66,"column":34},"generated":{"line":1,"column":958}},{"source":"js/zTree/layerTree.js","name":"name","original":{"line":67,"column":24},"generated":{"line":1,"column":960}},{"source":"js/zTree/layerTree.js","name":"lay","original":{"line":67,"column":30},"generated":{"line":1,"column":965}},{"source":"js/zTree/layerTree.js","name":"get","original":{"line":67,"column":34},"generated":{"line":1,"column":967}},{"source":"js/zTree/layerTree.js","original":{"line":67,"column":38},"generated":{"line":1,"column":971}},{"source":"js/zTree/layerTree.js","name":"checked","original":{"line":68,"column":24},"generated":{"line":1,"column":980}},{"source":"js/zTree/layerTree.js","original":{"line":68,"column":33},"generated":{"line":1,"column":989}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":107,"column":0},"generated":{"line":1,"column":1000}},{"source":"js/zTree/layerTree.js","original":{"line":107,"column":2},"generated":{"line":1,"column":1002}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":110,"column":4},"generated":{"line":1,"column":1013}},{"source":"js/zTree/layerTree.js","original":{"line":110,"column":6},"generated":{"line":1,"column":1015}},{"source":"js/zTree/layerTree.js","name":"click","original":{"line":110,"column":16},"generated":{"line":1,"column":1025}},{"source":"js/zTree/layerTree.js","original":{"line":110,"column":22},"generated":{"line":1,"column":1031}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":111,"column":12},"generated":{"line":1,"column":1042}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":111,"column":12},"generated":{"line":1,"column":1049}},{"source":"js/zTree/layerTree.js","original":{"line":111,"column":14},"generated":{"line":1,"column":1051}},{"source":"js/zTree/layerTree.js","name":"hasClass","original":{"line":111,"column":20},"generated":{"line":1,"column":1057}},{"source":"js/zTree/layerTree.js","original":{"line":111,"column":29},"generated":{"line":1,"column":1066}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":113,"column":8},"generated":{"line":1,"column":1078}},{"source":"js/zTree/layerTree.js","original":{"line":113,"column":10},"generated":{"line":1,"column":1080}},{"source":"js/zTree/layerTree.js","name":"toggleClass","original":{"line":113,"column":16},"generated":{"line":1,"column":1086}},{"source":"js/zTree/layerTree.js","original":{"line":113,"column":28},"generated":{"line":1,"column":1098}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":114,"column":8},"generated":{"line":1,"column":1108}},{"source":"js/zTree/layerTree.js","original":{"line":114,"column":10},"generated":{"line":1,"column":1110}},{"source":"js/zTree/layerTree.js","name":"toggleClass","original":{"line":114,"column":21},"generated":{"line":1,"column":1121}},{"source":"js/zTree/layerTree.js","original":{"line":114,"column":33},"generated":{"line":1,"column":1133}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":115,"column":8},"generated":{"line":1,"column":1143}},{"source":"js/zTree/layerTree.js","original":{"line":115,"column":10},"generated":{"line":1,"column":1145}},{"source":"js/zTree/layerTree.js","name":"toggle","original":{"line":115,"column":25},"generated":{"line":1,"column":1160}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":116,"column":8},"generated":{"line":1,"column":1169}},{"source":"js/zTree/layerTree.js","original":{"line":116,"column":10},"generated":{"line":1,"column":1171}},{"source":"js/zTree/layerTree.js","name":"toggle","original":{"line":116,"column":24},"generated":{"line":1,"column":1185}},{"source":"js/zTree/layerTree.js","original":{"line":117,"column":15},"generated":{"line":1,"column":1195}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":120,"column":4},"generated":{"line":1,"column":1200}},{"source":"js/zTree/layerTree.js","original":{"line":120,"column":6},"generated":{"line":1,"column":1202}},{"source":"js/zTree/layerTree.js","name":"click","original":{"line":120,"column":17},"generated":{"line":1,"column":1213}},{"source":"js/zTree/layerTree.js","original":{"line":120,"column":23},"generated":{"line":1,"column":1219}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":121,"column":12},"generated":{"line":1,"column":1230}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":121,"column":12},"generated":{"line":1,"column":1237}},{"source":"js/zTree/layerTree.js","original":{"line":121,"column":14},"generated":{"line":1,"column":1239}},{"source":"js/zTree/layerTree.js","name":"hasClass","original":{"line":121,"column":20},"generated":{"line":1,"column":1245}},{"source":"js/zTree/layerTree.js","original":{"line":121,"column":29},"generated":{"line":1,"column":1254}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":123,"column":8},"generated":{"line":1,"column":1266}},{"source":"js/zTree/layerTree.js","original":{"line":123,"column":10},"generated":{"line":1,"column":1268}},{"source":"js/zTree/layerTree.js","name":"toggleClass","original":{"line":123,"column":16},"generated":{"line":1,"column":1274}},{"source":"js/zTree/layerTree.js","original":{"line":123,"column":28},"generated":{"line":1,"column":1286}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":124,"column":8},"generated":{"line":1,"column":1296}},{"source":"js/zTree/layerTree.js","original":{"line":124,"column":10},"generated":{"line":1,"column":1298}},{"source":"js/zTree/layerTree.js","name":"toggleClass","original":{"line":124,"column":20},"generated":{"line":1,"column":1308}},{"source":"js/zTree/layerTree.js","original":{"line":124,"column":32},"generated":{"line":1,"column":1320}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":125,"column":8},"generated":{"line":1,"column":1330}},{"source":"js/zTree/layerTree.js","original":{"line":125,"column":10},"generated":{"line":1,"column":1332}},{"source":"js/zTree/layerTree.js","name":"toggle","original":{"line":125,"column":25},"generated":{"line":1,"column":1347}},{"source":"js/zTree/layerTree.js","name":"$","original":{"line":126,"column":8},"generated":{"line":1,"column":1356}},{"source":"js/zTree/layerTree.js","original":{"line":126,"column":10},"generated":{"line":1,"column":1358}},{"source":"js/zTree/layerTree.js","name":"toggle","original":{"line":126,"column":24},"generated":{"line":1,"column":1372}},{"source":"js/zTree/layerTree.js","original":{"line":127,"column":15},"generated":{"line":1,"column":1382}}],"sources":{"js/zTree/layerTree.js":"import map from '../map/map';\r\nimport { Group, Tile as TileLayer, Vector as VectorLayer } from 'ol/layer.js';\r\n\r\n$(function () {\r\n\r\n    var setting = {\r\n        check: {\r\n            enable: true\r\n        },\r\n\r\n        view: {\r\n            selectedMulti: false\r\n        },\r\n        edit: {\r\n            enable: true,\r\n            showRemoveBtn: false,\r\n            showRenameBtn: false\r\n        },\r\n        data: {\r\n            keep: {\r\n                parent: true,\r\n                leaf: true\r\n            },\r\n            simpleData: {\r\n                enable: true\r\n            }\r\n        },\r\n        callback: {\r\n            onCheck: onCheck\r\n        }\r\n    };\r\n\r\n\r\n    var zNodes = [\r\n    ];\r\n\r\n\r\n    $.fn.zTree.init($(\"#layerTree\"), setting, zNodes);\r\n\r\n    var zTree = $.fn.zTree.getZTreeObj(\"layerTree\");\r\n\r\n\r\n\r\n\r\n    var groupCount = 0;\r\n    var layerCount = 0;\r\n    map.getLayers().forEach(function (elem) {//图层组\r\n        if (elem instanceof Group) {\r\n            //添加父节点\r\n            groupCount++;\r\n            zTree.addNodes(null,\r\n                {\r\n                    id: groupCount,\r\n                    isParent: true,\r\n                    name: \"图层组\",\r\n                    checked: true\r\n                });\r\n            elem.getLayers().forEach(function (lay) {//图层\r\n                //添加子节点\r\n                layerCount++;\r\n                zTree.addNodes(\r\n                    zTree.getNodeByParam(\"id\", groupCount, null),\r\n                    {\r\n                        id: groupCount * 10 + layerCount,\r\n                        pId: 2,\r\n                        isParent: false,\r\n                        name: lay.get('title'),\r\n                        checked: true\r\n                    });\r\n            })\r\n        } else {\r\n            //添加父节点\r\n            //var layerName = elem.get('title');//根图层\r\n        }\r\n    });\r\n\r\n    function onCheck(e, treeId, treeNode) {\r\n        var layerArray = layersToMap.getLayers().getArray()\r\n        //layersToMap\r\n        if (treeNode.isParent) {\r\n            if (treeNode.checked) {//选中\r\n                map.getLayers().getArray()[0].setVisible(true)\r\n            }\r\n            else {//取消选中\r\n                map.getLayers().getArray()[0].setVisible(false)\r\n            }\r\n            return;\r\n        }\r\n\r\n        for (var j = 0; j < layerArray.length; j++)//层,长度可能是0\r\n        {\r\n            var layer = layerArray[j];\r\n\r\n            if (treeNode.name == layer.get('title')) {\r\n                if (treeNode.checked) {//选中\r\n                    layer.setVisible(true)\r\n                }\r\n                else {//取消选中\r\n                    layer.setVisible(false)\r\n                }\r\n            }\r\n        }\r\n        map.updateSize();\r\n    }\r\n\r\n});\r\n$(function () {\r\n\r\n\r\n    $(\"#layer\").click(function () {\r\n        if ($(this).hasClass(\"active\"))\r\n            return false;\r\n        $(this).toggleClass('active');\r\n        $(\"#people\").toggleClass('active');\r\n        $(\"#peopleTree\").toggle();\r\n        $(\"#layerTree\").toggle();\r\n        return false;\r\n    });\r\n\r\n    $(\"#people\").click(function () {\r\n        if ($(this).hasClass(\"active\"))\r\n            return false;\r\n        $(this).toggleClass('active');\r\n        $(\"#layer\").toggleClass('active');\r\n        $(\"#peopleTree\").toggle();\r\n        $(\"#layerTree\").toggle();\r\n        return false;\r\n    });\r\n\r\n});\r\n\r\n"},"lineCount":null}},"error":null,"hash":"5fcab61625d36192ecfb11e9e674b7ac","cacheData":{"env":{}}}