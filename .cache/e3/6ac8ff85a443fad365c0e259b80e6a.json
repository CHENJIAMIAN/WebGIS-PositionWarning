{"id":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","dependencies":[{"name":"C:\\桌面\\new-project\\package.json","includedInParent":true,"mtime":1557670107923},{"name":"C:\\桌面\\new-project\\node_modules\\jsdom\\node_modules\\w3c-hr-time\\package.json","includedInParent":true,"mtime":1557646994124},{"name":"./global-monotonic-clock","loc":{"line":10,"column":46},"parent":"C:\\桌面\\new-project\\node_modules\\jsdom\\node_modules\\w3c-hr-time\\lib\\calculate-clock-offset.js","resolved":"C:\\桌面\\new-project\\node_modules\\jsdom\\node_modules\\w3c-hr-time\\lib\\global-monotonic-clock.js"},{"name":"./clock-is-accurate","loc":{"line":11,"column":32},"parent":"C:\\桌面\\new-project\\node_modules\\jsdom\\node_modules\\w3c-hr-time\\lib\\calculate-clock-offset.js","resolved":"C:\\桌面\\new-project\\node_modules\\jsdom\\node_modules\\w3c-hr-time\\lib\\clock-is-accurate.js"}],"generated":{"js":"\"use strict\";\n\n// This files implements the calculation of the offset between the global monotonic clock and UNIX time. This value is\n// known as |t1| in the calculation of \"time origin timestamp\" in the spec. This value needs to be calculated once and\n// can be used in all subsequent Performance instances.\n//\n// However, if the clock is not fast enough, the export is undefined to signify that we should use Date.now() to get the\n// time origin timestamp with millisecond accuracy, per spec.\n\nconst { getGlobalMonotonicClockMS } = require(\"./global-monotonic-clock\");\nconst clockIsAccurate = require(\"./clock-is-accurate\");\n\n// This function assumes the clock is accurate.\nfunction calculateClockOffset() {\n  const start = Date.now();\n  let cur = start;\n  while (cur === start) {\n    cur = Date.now();\n  }\n\n  // At this point |cur| \"just\" became equal to the next millisecond -- the unseen digits after |cur| are approximately\n  // all 0, and |cur| is the closest to the actual value of the UNIX time. Now, get the current global monotonic clock\n  // value and do the remaining calculations.\n\n  return cur - getGlobalMonotonicClockMS();\n}\n\nif (clockIsAccurate) {\n  // Warm up the function.\n  calculateClockOffset();\n  calculateClockOffset();\n  calculateClockOffset();\n\n  module.exports = calculateClockOffset;\n} else {\n  module.exports = undefined;\n}\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}}],"sources":{"node_modules/jsdom/node_modules/w3c-hr-time/lib/calculate-clock-offset.js":"\"use strict\";\n\n// This files implements the calculation of the offset between the global monotonic clock and UNIX time. This value is\n// known as |t1| in the calculation of \"time origin timestamp\" in the spec. This value needs to be calculated once and\n// can be used in all subsequent Performance instances.\n//\n// However, if the clock is not fast enough, the export is undefined to signify that we should use Date.now() to get the\n// time origin timestamp with millisecond accuracy, per spec.\n\nconst { getGlobalMonotonicClockMS } = require(\"./global-monotonic-clock\");\nconst clockIsAccurate = require(\"./clock-is-accurate\");\n\n// This function assumes the clock is accurate.\nfunction calculateClockOffset() {\n  const start = Date.now();\n  let cur = start;\n  while (cur === start) {\n    cur = Date.now();\n  }\n\n  // At this point |cur| \"just\" became equal to the next millisecond -- the unseen digits after |cur| are approximately\n  // all 0, and |cur| is the closest to the actual value of the UNIX time. Now, get the current global monotonic clock\n  // value and do the remaining calculations.\n\n  return cur - getGlobalMonotonicClockMS();\n}\n\nif (clockIsAccurate) {\n  // Warm up the function.\n  calculateClockOffset();\n  calculateClockOffset();\n  calculateClockOffset();\n\n  module.exports = calculateClockOffset;\n} else {\n  module.exports = undefined;\n}\n"},"lineCount":38}},"error":null,"hash":"5551fa430e622c84f8641f36c3d6fb10","cacheData":{"env":{}}}