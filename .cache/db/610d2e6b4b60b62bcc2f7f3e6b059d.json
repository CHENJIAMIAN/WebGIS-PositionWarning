{"id":"3Y2u","dependencies":[{"name":"C:\\桌面\\new-project\\node_modules\\ol\\source\\ImageCanvas.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\桌面\\new-project\\package.json","includedInParent":true,"mtime":1557729564423},{"name":"C:\\桌面\\new-project\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1557726846824},{"name":"../ImageCanvas.js","loc":{"line":5,"column":24},"parent":"C:\\桌面\\new-project\\node_modules\\ol\\source\\ImageCanvas.js","resolved":"C:\\桌面\\new-project\\node_modules\\ol\\ImageCanvas.js"},{"name":"../extent.js","loc":{"line":6,"column":67},"parent":"C:\\桌面\\new-project\\node_modules\\ol\\source\\ImageCanvas.js","resolved":"C:\\桌面\\new-project\\node_modules\\ol\\extent.js"},{"name":"./Image.js","loc":{"line":7,"column":24},"parent":"C:\\桌面\\new-project\\node_modules\\ol\\source\\ImageCanvas.js","resolved":"C:\\桌面\\new-project\\node_modules\\ol\\source\\Image.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=n(require(\"../ImageCanvas.js\")),e=require(\"../extent.js\"),i=n(require(\"./Image.js\"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(i){function n(t){var e=t||{};i.call(this,{attributions:e.attributions,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.getImageInternal=function(i,n,o,r){n=this.findNearestResolution(n);var s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==n&&s.getPixelRatio()==o&&(0,e.containsExtent)(s.getExtent(),i))return s;i=i.slice(),(0,e.scaleFromCenter)(i,this.ratio_);var a=[(0,e.getWidth)(i)/n*o,(0,e.getHeight)(i)/n*o],u=this.canvasFunction_.call(this,i,n,o,a,r);return u&&(s=new t.default(i,n,o,u)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s},n}(i.default),r=o;exports.default=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":0}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":13}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":20}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":35}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":43}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":56}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":57}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":64}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":68}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":76}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":89}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":107}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":129}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":139}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":159}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":167}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":182}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":191}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":193}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":196}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":203}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":206}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":208}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":219}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":221}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":222}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":230}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":233}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":237}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":43},"generated":{"line":1,"column":239}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":43},"generated":{"line":1,"column":248}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":251}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":260}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":54,"column":14},"generated":{"line":1,"column":262}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":265}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":269}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":271}},{"source":"../../../src/ol/source/ImageCanvas.js","name":"const","original":{"line":56,"column":4},"generated":{"line":1,"column":274}},{"source":"../../../src/ol/source/ImageCanvas.js","name":"super","original":{"line":58,"column":4},"generated":{"line":1,"column":277}},{"source":"../../../src/ol/source/ImageCanvas.js","name":"super","original":{"line":58,"column":4},"generated":{"line":1,"column":279}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":58,"column":9},"generated":{"line":1,"column":284}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":289}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":290}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":303}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":59,"column":28},"generated":{"line":1,"column":305}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":318}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":60,"column":18},"generated":{"line":1,"column":329}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":331}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":342}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":354}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":356}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":368}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":374}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":62,"column":21},"generated":{"line":1,"column":376}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":384}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":389}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":69,"column":27},"generated":{"line":1,"column":405}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":69,"column":35},"generated":{"line":1,"column":407}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":422}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":427}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":75,"column":19},"generated":{"line":1,"column":435}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":440}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":445}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":81,"column":29},"generated":{"line":1,"column":463}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":465}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":470}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":87,"column":36},"generated":{"line":1,"column":482}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":87,"column":18},"generated":{"line":1,"column":486}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":87,"column":26},"generated":{"line":1,"column":488}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":494}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":88,"column":14},"generated":{"line":1,"column":496}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":88,"column":22},"generated":{"line":1,"column":502}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":506}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":513}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":517}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":519}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":529}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":532}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":534}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":544}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":551}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":558}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":561}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":563}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":574}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":576}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":586}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":598}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":600}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":602}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":612}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":629}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":19},"generated":{"line":1,"column":638}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":27},"generated":{"line":1,"column":640}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":39},"generated":{"line":1,"column":642}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":95,"column":51},"generated":{"line":1,"column":644}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":96,"column":4},"generated":{"line":1,"column":647}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":96,"column":17},"generated":{"line":1,"column":649}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":96,"column":22},"generated":{"line":1,"column":654}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":96,"column":44},"generated":{"line":1,"column":676}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":679}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":683}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":98,"column":17},"generated":{"line":1,"column":685}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":98,"column":22},"generated":{"line":1,"column":690}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":698}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":701}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":704}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":709}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":100,"column":33},"generated":{"line":1,"column":728}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":100,"column":38},"generated":{"line":1,"column":733}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":101,"column":7},"generated":{"line":1,"column":748}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":101,"column":14},"generated":{"line":1,"column":750}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":101,"column":33},"generated":{"line":1,"column":767}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":102,"column":7},"generated":{"line":1,"column":770}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":102,"column":14},"generated":{"line":1,"column":772}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":102,"column":33},"generated":{"line":1,"column":789}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":7},"generated":{"line":1,"column":793}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":22},"generated":{"line":1,"column":795}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":22},"generated":{"line":1,"column":797}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":22},"generated":{"line":1,"column":813}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":29},"generated":{"line":1,"column":815}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":103,"column":42},"generated":{"line":1,"column":827}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":830}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":837}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":839}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":841}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":107,"column":20},"generated":{"line":1,"column":843}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":20},"generated":{"line":1,"column":852}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":20},"generated":{"line":1,"column":854}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":20},"generated":{"line":1,"column":856}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":20},"generated":{"line":1,"column":873}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":28},"generated":{"line":1,"column":875}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":880}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":888}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":111,"column":10},"generated":{"line":1,"column":892}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":894}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":18},"generated":{"line":1,"column":896}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":27},"generated":{"line":1,"column":898}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":27},"generated":{"line":1,"column":900}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":27},"generated":{"line":1,"column":910}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":109,"column":37},"generated":{"line":1,"column":913}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":111,"column":26},"generated":{"line":1,"column":915}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":110,"column":19},"generated":{"line":1,"column":918}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":110,"column":29},"generated":{"line":1,"column":920}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":110,"column":29},"generated":{"line":1,"column":922}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":110,"column":29},"generated":{"line":1,"column":933}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":110,"column":39},"generated":{"line":1,"column":936}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":111,"column":47},"generated":{"line":1,"column":938}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":941}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":113,"column":26},"generated":{"line":1,"column":943}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":948}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":113,"column":47},"generated":{"line":1,"column":964}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":6},"generated":{"line":1,"column":969}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":12},"generated":{"line":1,"column":974}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":20},"generated":{"line":1,"column":976}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":32},"generated":{"line":1,"column":978}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":44},"generated":{"line":1,"column":980}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":114,"column":50},"generated":{"line":1,"column":982}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":121,"column":11},"generated":{"line":1,"column":985}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":992}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":996}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":15},"generated":{"line":1,"column":998}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":1002}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":15},"generated":{"line":1,"column":1004}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":31},"generated":{"line":1,"column":1012}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":39},"generated":{"line":1,"column":1014}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":51},"generated":{"line":1,"column":1016}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":116,"column":63},"generated":{"line":1,"column":1018}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":118,"column":9},"generated":{"line":1,"column":1022}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":118,"column":9},"generated":{"line":1,"column":1027}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":118,"column":19},"generated":{"line":1,"column":1035}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1037}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1042}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":119,"column":29},"generated":{"line":1,"column":1060}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":119,"column":34},"generated":{"line":1,"column":1065}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":121,"column":11},"generated":{"line":1,"column":1079}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1082}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":43},"generated":{"line":1,"column":1084}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":32},"generated":{"line":1,"column":1085}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":50,"column":43},"generated":{"line":1,"column":1087}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1096}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1098}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1100}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1108}},{"source":"../../../src/ol/source/ImageCanvas.js","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1116}}],"sources":{"../../../src/ol/source/ImageCanvas.js":"/**\n * @module ol/source/ImageCanvas\n */\n\nimport ImageCanvas from '../ImageCanvas.js';\nimport {containsExtent, getHeight, getWidth, scaleFromCenter} from '../extent.js';\nimport ImageSource from './Image.js';\n\n\n/**\n * A function returning the canvas element (`{HTMLCanvasElement}`)\n * used by the source as an image. The arguments passed to the function are:\n * {@link module:ol/extent~Extent} the image extent, `{number}` the image resolution,\n * `{number}` the device pixel ratio, {@link module:ol/size~Size} the image size, and\n * {@link module:ol/proj/Projection} the image projection. The canvas returned by\n * this function is cached by the source. The this keyword inside the function\n * references the {@link module:ol/source/ImageCanvas}.\n *\n * @typedef {function(this:import(\"../ImageCanvas.js\").default, import(\"../extent.js\").Extent, number,\n *     number, import(\"../size.js\").Size, import(\"../proj/Projection.js\").default): HTMLCanvasElement} FunctionType\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {FunctionType} [canvasFunction] Canvas function.\n * The function returning the canvas element used by the source\n * as an image. The arguments passed to the function are: `{import(\"../extent.js\").Extent}` the\n * image extent, `{number}` the image resolution, `{number}` the device pixel\n * ratio, `{import(\"../size.js\").Size}` the image size, and `{import(\"../proj/Projection.js\").Projection}` the image\n * projection. The canvas returned by this function is cached by the source. If\n * the value returned by the function is later changed then\n * `changed` should be called on the source for the source to\n * invalidate the current cached image. See: {@link module:ol/Observable~Observable#changed}\n * @property {import(\"../proj.js\").ProjectionLike} projection Projection.\n * @property {number} [ratio=1.5] Ratio. 1 means canvases are the size of the map viewport, 2 means twice the\n * width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {Array<number>} [resolutions] Resolutions.\n * If specified, new canvases will be created for these resolutions\n * @property {import(\"./State.js\").default} [state] Source state.\n */\n\n\n/**\n * @classdesc\n * Base class for image sources where a canvas element is the image.\n * @api\n */\nclass ImageCanvasSource extends ImageSource {\n  /**\n   * @param {Options=} opt_options ImageCanvas options.\n   */\n  constructor(opt_options) {\n\n    const options = opt_options || /** @type {Options} */ ({});\n\n    super({\n      attributions: options.attributions,\n      projection: options.projection,\n      resolutions: options.resolutions,\n      state: options.state\n    });\n\n    /**\n    * @private\n    * @type {FunctionType}\n    */\n    this.canvasFunction_ = options.canvasFunction;\n\n    /**\n    * @private\n    * @type {import(\"../ImageCanvas.js\").default}\n    */\n    this.canvas_ = null;\n\n    /**\n    * @private\n    * @type {number}\n    */\n    this.renderedRevision_ = 0;\n\n    /**\n    * @private\n    * @type {number}\n    */\n    this.ratio_ = options.ratio !== undefined ?\n      options.ratio : 1.5;\n\n  }\n\n  /**\n  * @inheritDoc\n  */\n  getImageInternal(extent, resolution, pixelRatio, projection) {\n    resolution = this.findNearestResolution(resolution);\n\n    let canvas = this.canvas_;\n    if (canvas &&\n       this.renderedRevision_ == this.getRevision() &&\n       canvas.getResolution() == resolution &&\n       canvas.getPixelRatio() == pixelRatio &&\n       containsExtent(canvas.getExtent(), extent)) {\n      return canvas;\n    }\n\n    extent = extent.slice();\n    scaleFromCenter(extent, this.ratio_);\n    const width = getWidth(extent) / resolution;\n    const height = getHeight(extent) / resolution;\n    const size = [width * pixelRatio, height * pixelRatio];\n\n    const canvasElement = this.canvasFunction_.call(\n      this, extent, resolution, pixelRatio, size, projection);\n    if (canvasElement) {\n      canvas = new ImageCanvas(extent, resolution, pixelRatio, canvasElement);\n    }\n    this.canvas_ = canvas;\n    this.renderedRevision_ = this.getRevision();\n\n    return canvas;\n  }\n}\n\n\nexport default ImageCanvasSource;\n"},"lineCount":null}},"error":null,"hash":"0cf194c1155e82b84d39dd743ccc1846","cacheData":{"env":{}}}